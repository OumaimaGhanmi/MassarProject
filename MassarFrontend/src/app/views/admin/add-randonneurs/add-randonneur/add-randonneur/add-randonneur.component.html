<div class="card border-primary mb-3">
  <div class="card-header bg-primary text-white "> Edit Randonneur Component</div>
  <div class="card-body">
      <h3 *ngIf="!editForm.get('idRandonneur').value; else update">Add Randonneur</h3>
      <ng-template #update>
          <h3>Update Randonneur</h3>
      </ng-template>
      <form [formGroup]="editForm" (ngSubmit)="add()">
          <div class="form-group">
              <label for="firstName">FirstName</label>
              <div class="form-group">
                <label for="name"><i class="zmdi zmdi-account material-icons-name"></i></label>
                <input type="text" formControlName="firstname"  id="name" placeholder="Your Name" />
                <div class="text-danger" *ngIf="registerForm.get('firstname')?.touched && registerForm.get('firstname')?.invalid">
                    <small *ngIf="registerForm.get('firstname')?.hasError('required')">First Name is required</small>
                </div> 
            </div>
          </div>
          <div class="form-group">
            <label for="firstName">LastName</label>
            <input type="text" formControlName="lastname" id="lastname" placeholder="Your LastName" class="form-control" />
                    <div class="text-danger" *ngIf="editForm.get('lastname')?.touched && editForm.get('lastname')?.invalid">
                        <small *ngIf="editForm.get('lastname')?.hasError('required')">Last Name is required</small>
                    </div>
           </div>
           
            <div class="form-group">
              <label for="firstName">Password</label>
                <input type="password" formControlName="password" id="pass" placeholder="Password" />
                <div class="text-danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
                     <small *ngIf="registerForm.get('password')?.hasError('required')">Password is  required</small>
                    <small *ngIf="registerForm.get('password')?.hasError('minlength')">Password must be at least 6 characters long</small>
                </div>
            </div>
        
          <div class="form-row">
              <div class="col">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" formControlName="email" required [ngClass]="{'is-invalid': (editForm.get('email').invalid && editForm.get('email').dirty) || (errMail.length != 0), 'is-valid': editForm.get('email').valid}">
                  <div *ngIf="editForm.get('email').invalid && editForm.get('email').dirty" class="invalid-feedback">
                      Please provide a valid email.
                  </div>
                  <div *ngIf="errMail.length != 0" class="invalid-feedback">
                      Email already in use 
                  </div>
              </div>
          </div>
          <div class="form-group">
            <label for="age">Age</label>
            <input type="number" formControlName="age" id="age" placeholder="Your Age" />
            <div class="text-danger" *ngIf="registerForm.get('age')?.touched && registerForm.get('age')?.invalid">
                <small *ngIf="registerForm.get('age')?.hasError('required')">Age is required</small>
            </div>
        </div>
          <div class="form-group">
              <div class="col">
                  <img *ngIf="editForm.get('idRandonneur').value" [src]="editForm.get('image').value ? baseURL + 'storage/files/' + editForm.get('image').value : '../../assets/images/default-avatar.jpg'" class="img-responsive img-rounded" style="max-height: 50px; max-width: 50px;" alt="photo">
                  <label class="btn btn-success p-0">
                      <input type="file" (change)="selectFile($event)" />
                  </label>
                  <div *ngIf="currentFile" class="progress my-3">
                      <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: progress + '%' }">
                          {{ progress }}%
                      </div>
                  </div>
              </div>
              <div *ngIf="message" class="alert alert-secondary" role="alert">{{ message }}</div>
          </div>
          <button mat-raised-button style="background-color: #9A616D; border: none;margin-top: 10px; margin-right: 20px;">Ajouter</button>
          <button type="button" style="background-color: rgba(2, 2, 2, 0.705); border: none;margin-top: 10px;">Annuler</button>
      </form>
  </div>
</div>
